(this.webpackJsonpgame=this.webpackJsonpgame||[]).push([[0],{33:function(e,t,n){e.exports=n(73)},38:function(e,t,n){},7:function(e,t,n){e.exports={container:"engine_container__1-N_k",character:"engine_character__3AMkf",block:"engine_block__WgUZo"}},70:function(e,t){},73:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),c=n(31),r=n.n(c),s=(n(38),n(2)),i=n(7),m=n.n(i);var u=n(32),l=n.n(u)()("http://localhost:3000"),v=[[0,0,5,400],[0,0,800,5],[795,0,800,400],[0,395,150,400],[190,395,800,400],[695,0,700,180],[695,220,700,400],[570,175,700,180],[525,0,530,140],[480,135,530,140],[385,0,390,240],[250,135,440,140],[0,135,150,140],[145,135,150,230],[145,320,150,400],[0,275,150,280],[250,135,255,240],[250,235,320,240],[495,300,500,400]];function h(e,t){var n=this;this.settings={tile:1},this.game="start",this.posX=e[0],this.posY=e[1],this.moveX=170,this.moveY=390,this.blocks=v;return this.repaint=function(){var e=function(){var e=n.posX+n.moveX,t=n.posY+n.moveY;return n.blocks.some((function(n){return e+10>n[0]&&e<n[2]&&t+10>n[1]&&t<n[3]}))}(),o=function(){var e=n.posX+n.moveX,t=n.posY+n.moveY;return e<800&&t<400&&e>=5&&t>=5}();return!e&&o&&(n.posX+=n.moveX,n.posY+=n.moveY),n.moveX=0,n.moveY=0,t({moveX:n.posX,moveY:n.posY,blocks:n.blocks}),requestAnimationFrame(n.repaint)},this.repaint(),function(){return{move:function(e){switch(e){case"up":n.moveY=-10;break;case"right":n.moveX=10;break;case"down":n.moveY=10;break;default:n.moveX=-10}}}}}var f={moveX:170,moveY:390,blocks:v};function p(){var e,t,n=Object(o.useState)(f),c=Object(s.a)(n,2),r=c[0],i=c[1],u=Object(o.useState)(!1),v=Object(s.a)(u,2),p=v[0],b=v[1],k=Object(o.useState)(null),w=Object(s.a)(k,2),d=w[0],g=w[1],X=Object(o.useState)([]),Y=Object(s.a)(X,2),y=(Y[0],Y[1]);return e="keydown",t=function(e){null!==d&&("ArrowLeft"===e.key?d.move("left"):"ArrowUp"===e.key?d.move("up"):"ArrowRight"===e.key?d.move("right"):"ArrowDown"===e.key?d.move("down"):e.key)},Object(o.useEffect)((function(){return window.addEventListener(e,t),function(){window.removeEventListener(e,t)}})),Object(o.useEffect)((function(){p||(l.on("chat message",(function(e){console.log("drugi player ",e),y(e)})),b(!0),g(new h([f.moveX,f.moveY],(function(e){return i(e)}))))})),Object(o.useEffect)((function(){l.emit("send coordinates",[r.moveX,r.moveY])}),[r]),a.a.createElement("div",{className:m.a.container,style:{height:400,width:800}},a.a.createElement("span",{className:m.a.character,style:{transform:"translate(".concat(r.moveX,"px, ").concat(r.moveY,"px)"),height:10,width:10}}),r.blocks.map((function(e){return a.a.createElement("span",{className:m.a.block,key:"".concat(e[0],"_").concat(e[1]),style:{transform:"translate(".concat(e[0],"px, ").concat(e[1],"px)"),height:e[3]-e[1],width:e[2]-e[0]}})})))}function b(){return a.a.createElement(p,null)}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(a.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.1771ac43.chunk.js.map